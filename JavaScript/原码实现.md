### 防抖
```
// 是将多次执行变为最后一次执行
function debounce(fn, time) {
  let timer = null;
  return function () {
    clearTimeout(timer);
    timer = setTimeout(() => {
      fn();
      timer = null;
    }, time);
  }
}
```

### 节流
```
// 多次执行变成每隔一段时间执行
function throttle(fn, time) {
  let timer = null;
  return function() {
    if(!timer) {
      timer = setTimeout(() => {
        fn();
        timer = null;
      }, time);
    }
  }
}
```

### js自定义事件
```
function EventTarget(){
  this.handlers = {};
}

EventTarget.prototype = {
  constructor:EventTarget,
  addHandler:function(type,handler){
    if(typeof this.handlers[type] === "undefined"){
      this.handlers[type] = [];
    }
    this.handlers[type].push(handler);
  },
  fire:function(event){
    if(!event.target){
      event.target = this;
    }
    if(this.handlers[event.type] instanceof Array){
      const handlers = this.handlers[event.type];
      handlers.forEach((handler)=>{
        handler(event);
      });
    }
  },
  removeHandler:function(type,handler){
    if(this.handlers[type] instanceof Array){
      const handlers = this.handlers[type];
      for(var i = 0,len = handlers.length; i < len; i++){
        if(handlers[i] === handler){
          break;
        }
      }
      handlers.splice(i,1);
    }
  }
}
```

### 实现一个深拷贝(虾皮面试题)
```
function deepClone(obj) {
  if(obj == null) return null;
  if(obj instanceof Date) {
    return new Date(obj);
  }
  if(obj instanceof RegExp) {
    return new RegExp(obj);
  }
  if(typeof obj !== 'object') {
    return obj;
  }
  let t = new obj.constructor();//连接原型
  for(let key in obj) {
    t[key] = deepClone(obj[key]);
  }
  return t;
}
```

### 清除字符串前后的空格(头条面试题)
```
String.prototype.trim = function () {
  return this.replace(/^\s+|\s+$/g, "");
}
```

### 实现flat(数组扁平化)
```
// 使用join
function flatten(arr){
  var res = arr.join().split(',');
  res = res.map(Number)
  return res;
}
// 递归
function flatten(arr){
  var res = [];
  arr.map(val => {
    if(Array.isArray(val)){
      res.push(...flatten(val));
    } else {
      res.push(val);
    }
  })
  return res;
}
```

### 封装事件委托
```
function eventProxy(parentId, childNodename, fn, action){
	var parent = document.getElementById(parentId);
	parent[action] = function(ev){
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;
		if(target.nodeName.toLowerCase() == childNodename){
			fn(target);
		}
	}
}
```
